<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Home | M3O</title>
    <meta charset="UTF-8">
    <meta name="description" content="Ask questions, share knowledge and stay in sync">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="style.css?v=0.1">
    <link rel="stylesheet" href="d.css?v=0.2">
    <script type="text/javascript" src="d.js?v=0.3"></script>
  </head>
  <body>
    <div class="container-xl px-3 my-4 markdown-body">
      <div class="header">
        <span class="title">
          <a href="/">
	    <img src="/images/logo.png" width=50 height=auto> <span id="title">home</span>
          </a>
        </span>
	<div id="menu" onclick="unfold()" style="display: none; float: right; cursor: pointer; vertical-align: middle;">
	    <div class="menu"></div>
	    <div class="menu"></div>
	    <div class="menu"></div>
	</div>
        <ul id="links" class="links" style="float: right; display: none; padding: 5px;">
	  <li class="link"><a href="#account" id="user"></a></li>
	  <li class="link"><a href="#settings" id="settings-link"></a></li>
	  <li class="link"><a href="#login" id="login-link">Login</a></li>
	</ul>
      </div>
      <h3 id="welcome"></h3>
      <h4 id="error"></h4>
      <div id="sidebar"></div>
      <div id="content"></div>
    </div>
    <script>
      // menu links and divs
      var menu = document.getElementById('menu');
      var links = document.getElementById('links');
      var li = document.getElementsByClassName('link')

      // main content divs
      var sidebar = document.getElementById('sidebar');
      var content = document.getElementById('content');

      var update = function(v) {
        for (i = 0; i < li.length; i++) {
          li[i].style.display = v;
        }       
      }

      var display = function() {
        if (window.innerWidth < 850) {
	  if (window.location.hash.length > 0) {
             welcome(false);
             content.style.display = 'block';
             sidebar.style.display = 'none';
	  } else {
             welcome(true);
             content.style.display = 'none';
             sidebar.style.display = 'block';
	  }
	} else {
          welcome(true);
	  sidebar.style.display = 'inline-block';
	  content.style.display = 'inline-block';
	}
      }

      var resize = function() {
        if (window.innerWidth < 850) {
          menu.style.display = "block";
          links.style.display = "none";
	  links.style.float = "left";
          update("block");
        } else {
	  menu.style.display = "none";
	  links.style.display = "block";
	  links.style.float = "right";
          update("inline-block");
	}

	// additional display functions
	display();
      }

      var unfold = function() {
        if (links.style.display == "none") {
          links.style.display = "block";
	  links.style.float = "none";
        } else {
          links.style.display = "none";
	}
      }

      window.onload = resize;
      window.onresize = resize;
      window.onhashchange = display;
    </script>
  </body>
</html>
